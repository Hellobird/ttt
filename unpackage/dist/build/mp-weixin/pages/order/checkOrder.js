(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/checkOrder"],{"01b5":function(t,e,a){"use strict";var n=a("462b"),i=a.n(n);i.a},"0513":function(t,e,a){"use strict";var n=a("7237"),i=a.n(n);i.a},"19f4":function(t,e,a){},"292a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"order-item-detail"},[a("div",{staticClass:"order-info"},[a("span",{staticClass:"order-num"},[t._v("订单编号："+t._s(t.data.orderNumber))]),a("span",{staticClass:"order-status"},[t._v(t._s(t.data.statusName))])]),a("div",{staticClass:"order-info"},[a("image",{staticClass:"goods-picture noimage",attrs:{src:t.static+t.data.picture}}),a("div",{staticClass:"goods-info-wrap"},[a("div",{staticClass:"goods-info"},[a("p",[t._v(t._s(t.data.serviceName))]),a("p",[t._v("¥ "+t._s(t.data.price))])],1)])]),a("div",{staticClass:"goods-info"},[a("div",{staticClass:"order-time"},[t._v("下单时间："+t._s(t.data.createTime))]),a("div",{staticClass:"order-time"},[t._v("合计: "+t._s(t.data.price))])]),a("div",{staticClass:"order-options-wrap"},[a("div",{staticClass:"order-options"},[1==t.data.status?a("button",{staticClass:"order-button",attrs:{eventid:"747ac242-0"},on:{click:function(e){t.changeCancelModal(!0)}}},[t._v("取消订单")]):t._e(),5==t.data.status?a("button",{staticClass:"order-button",attrs:{eventid:"747ac242-1"},on:{click:function(e){t.changeConfirmModal(!0)}}},[t._v("确认方案")]):t._e(),8==t.data.status?a("button",{staticClass:"order-button",attrs:{eventid:"747ac242-2"},on:{click:function(e){t.changeOrderCheck(!0)}}},[t._v("验收付款")]):t._e()],1)])]),a("t-modal",{attrs:{reason:t.reason,visibile:t.order_status_visibile,eventid:"747ac242-3",mpcomid:"747ac242-1"},on:{changeVisible:t.changeOrderStatusModal}},[a("order-status",{attrs:{mpcomid:"747ac242-0"}})],1),a("t-modal",{attrs:{visibile:t.cancel_order_visibile,eventid:"747ac242-5",mpcomid:"747ac242-3"},on:{changeVisible:t.changeCancelModal}},[a("cancel-modal",{attrs:{cancelUrl:"service/order/cancelOrder",orderId:t.data.id,reason:t.reason,eventid:"747ac242-4",mpcomid:"747ac242-2"},on:{reload:t.reloadData}})],1),a("t-modal",{attrs:{visibile:t.confirm_order_visibile,eventid:"747ac242-7",mpcomid:"747ac242-5"},on:{changeVisible:t.changeConfirmModal}},[a("confirm-plan",{attrs:{orderId:t.data.id,confirmPlanlist:t.confirmPlanlist,eventid:"747ac242-6",mpcomid:"747ac242-4"},on:{reload:t.reloadData}})],1),a("t-modal",{attrs:{visibile:t.confirm_ordercheck_visibile,eventid:"747ac242-9",mpcomid:"747ac242-7"},on:{changeVisible:t.changeOrderCheck}},[a("order-check",{attrs:{orderId:t.data.id,confirmPlanlist:t.confirmPlanlist,eventid:"747ac242-8",mpcomid:"747ac242-6"},on:{reload:t.reloadData}})],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"391c":function(t,e,a){"use strict";a.r(e);var n=a("d2cc"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},"462b":function(t,e,a){},6868:function(t,e,a){"use strict";var n=a("19f4"),i=a.n(n);i.a},"6a49":function(t,e,a){"use strict";a.r(e);var n=a("ed82"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},7237:function(t,e,a){},"73bd":function(t,e,a){"use strict";a.r(e);var n=a("ae9f"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},8451:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("e3e5")),i=r(a("701a"));function r(t){return t&&t.__esModule?t:{default:t}}var c={components:{orderItem:n.default},data:function(){return{order_list:[],cancel_reason:[],type:""}},onLoad:function(t){this.type=t.type;var e="查看订单";1==this.type?e="查看订单":2==this.type?e="确认施工方案和价格":3==this.type&&(e="质量验收及付尾款"),wx.setNavigationBarTitle({title:e}),this.init()},methods:{init:function(){this.getOrderList()},getOrderList:function(){var t=this;i.default.request({data:{type:this.type},method:"get",url:"service/order/list"}).then(function(e){console.log(e),t.order_list=e})}}};e.default=c},"86ed":function(t,e,a){},"88c1":function(t,e,a){"use strict";a.r(e);var n=a("f593"),i=a("73bd");for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a("f418");var c=a("2877"),o=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,"7901d8c2",null);o.options.__file="orderCheck.vue",e["default"]=o.exports},"88e4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cancel-order-modal"},[t._l(t.confirmPlanlist,function(e,n){return a("div",{key:n,staticClass:"cancel-order-condition"},[e.type?a("div",{staticClass:"cancel-order-title"},[t._v(t._s(e.type))]):t._e(),a("div",{staticClass:"cancel-statement-wrap"},t._l(e.prices,function(e,n){return a("div",{key:n,staticClass:"cancel-radio-wrap"},[a("span",{staticClass:"cancel-radio"}),a("span",{staticClass:"cancel-label"},[t._v(t._s(e.name+""+e.price))])])}))])}),a("div",{staticClass:"cancel-plan-wrap"},[a("button",{staticClass:"cancel-plan"},[t._v("放弃维修")]),a("button",{staticClass:"cancel-plan",attrs:{eventid:"5c0a37af-0"},on:{click:t.againPlan}},[t._v("重新申报方案")])],1),a("div",{staticClass:"agree-plan-wrap"},[a("button",{staticClass:"cancel-plan agree-plan",attrs:{eventid:"5c0a37af-1"},on:{click:t.confirmPlan}},[t._v("同意方案")])],1)],2)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"8b43":function(t,e,a){"use strict";a.r(e);var n=a("8451"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},"8e85":function(t,e,a){"use strict";a.r(e);var n=a("a925"),i=a("8b43");for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a("0513");var c=a("2877"),o=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);o.options.__file="checkOrder.vue",e["default"]=o.exports},"8efa":function(t,e,a){"use strict";var n=a("86ed"),i=a.n(n);i.a},"950e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("701a"));function i(t){return t&&t.__esModule?t:{default:t}}var r={props:["orderId","reload","changeVisibileModal","confirmPlanlist"],data:function(){return{}},methods:{againPlan:function(){var t=this;n.default.request({data:{orderId:this.orderId},url:"service/order/againPrice"}).then(function(e){t.$parent.changeVisibileModal(!1),t.$emit("reload"),n.default.totast("操作成功"),console.log(e)})},confirmPlan:function(){var t=this;n.default.request({data:{orderId:this.orderId},url:"service/order/confirmPrice"}).then(function(e){t.$parent.changeVisibileModal(!1),t.$emit("reload"),n.default.totast("操作成功"),console.log(e)})}}};e.default=r},"9f1a":function(t,e,a){},a269:function(t,e,a){"use strict";a("33f4");var n=r(a("b0ce")),i=r(a("8e85"));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))},a6ed:function(t,e,a){"use strict";a.r(e);var n=a("e21e"),i=a("391c");for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a("01b5");var c=a("2877"),o=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);o.options.__file="cancelModal.vue",e["default"]=o.exports},a925:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"order-tip"},[1==t.type?a("p",{staticClass:"order-tip-text"},[t._v("您可以在此页面查看您已付上门费的订单和“查看状态”")]):t._e(),2==t.type?a("p",{staticClass:"order-tip-text"},[t._v("待木斗工匠上门与您协商后，您可在此页面找到相应订单，选择“请确认方案”“放弃此订单”“重新生成订单”")]):t._e(),3==t.type?a("p",{staticClass:"order-tip-text"},[t._v("木斗工匠已完工并且您已现场验收后请找到相应订单点击“请验收”确认支付尾款，完成方案并对“图文评价”并发布")]):t._e(),4==t.type?a("p",{staticClass:"order-tip-text"},[t._v("您可以在此页面查看您已付上门费的订单和“查看状态”")]):t._e()],1),t.order_list.length>0?a("div",t._l(t.order_list,function(e,n){return a("div",{key:n},[a("order-item",{attrs:{type:t.type,data:e,reason:t.cancel_reason,eventid:"7012e8c9-0-"+n,mpcomid:"7012e8c9-0-"+n},on:{reload:t.init}})],1)})):t._e()])},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},ae9f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("701a"));function i(t){return t&&t.__esModule?t:{default:t}}var r={props:["orderId","reload","changeVisibileModal","confirmPlanlist"],data:function(){return{check:!1}},onLoad:function(){console.log(this.confirmPlanlist)},methods:{againPlan:function(){var t=this;n.default.request({data:{orderId:this.orderId},url:"service/order/againPrice"}).then(function(e){t.$parent.changeVisibileModal(!1),t.$emit("reload"),n.default.totast("操作成功"),console.log(e)})},cg_check:function(){this.check=!this.check},orderCheck:function(){var t=this;this.check?n.default.request({data:{orderId:this.orderId},url:"service/order/check"}).then(function(e){t.$parent.changeVisibileModal(!1),t.$emit("reload"),n.default.totast("操作成功"),console.log(e)}):n.default.totast("请确认验收完成")}}};e.default=r},c16e:function(t,e,a){"use strict";a.r(e);var n=a("88e4"),i=a("f114");for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a("8efa");var c=a("2877"),o=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);o.options.__file="confirmModal.vue",e["default"]=o.exports},d2cc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("701a"));function i(t){return t&&t.__esModule?t:{default:t}}var r={props:["reason","orderId","reload","changeVisibileModal","cancelUrl"],data:function(){return{chooseData:null,detail:""}},methods:{choose:function(t){this.chooseData=t},cancel_order:function(){var t=this;n.default.request({data:{orderId:this.orderId,reasonId:this.chooseData,detail:this.detail},url:this.cancelUrl}).then(function(e){t.$parent.changeVisibileModal(!1),t.$emit("reload"),n.default.totast("订单取消成功")})},cancel_confirm:function(){var t=this;this.chooseData?wx.showModal({title:"",content:"您确定要取消该订单吗？",success:function(e){if(e.confirm)t.cancel_order();else if(e.cancel)return}}):n.default.totast("请选择取消原因")}}};e.default=r},e21e:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cancel-order-modal"},[a("div",{staticClass:"cancel-order-condition"},[a("div",{staticClass:"cancel-order-title"},[t._v("取消原因")]),a("div",{staticClass:"cancel-order-check-wrap"},t._l(t.reason,function(e,n){return a("div",{key:n,class:t.chooseData==e.id?"cancel-order-checked":"cancel-order-check-group",attrs:{eventid:"9e620f9e-0-"+n},on:{click:function(a){t.choose(e.id)}}},[a("div",{staticClass:"check-box"}),a("div",{staticClass:"check-label"},[t._v(t._s(e.context))])])})),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detail,expression:"detail"}],staticClass:"cancel-order-des",attrs:{eventid:"9e620f9e-1"},domProps:{value:t.detail},on:{input:function(e){e.target.composing||(t.detail=e.target.value)}}})]),a("button",{staticClass:"cancel-button",attrs:{eventid:"9e620f9e-2"},on:{click:t.cancel_confirm}},[t._v("确认取消")])],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},e3e5:function(t,e,a){"use strict";a.r(e);var n=a("292a"),i=a("6a49");for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);a("6868");var c=a("2877"),o=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);o.options.__file="orderItem.vue",e["default"]=o.exports},ed82:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=d(a("09e2")),i=d(a("8f52")),r=d(a("a6ed")),c=d(a("c16e")),o=d(a("88c1")),s=d(a("701a"));function d(t){return t&&t.__esModule?t:{default:t}}var l={props:["data","reload","type"],data:function(){return{order_status_visibile:!1,cancel_order_visibile:!1,confirm_order_visibile:!1,confirm_ordercheck_visibile:!1,static:s.default.static,reason:[],confirmPlanlist:[]}},components:{TModal:n.default,OrderStatus:i.default,CancelModal:r.default,ConfirmPlan:c.default,orderCheck:o.default},methods:{go_next:function(){wx.navigateTo({url:"../home/pay"})},reloadData:function(){this.$emit("reload")},getConfirmPlan:function(){var t=this;s.default.request({data:{orderId:this.data.id},method:"get",url:"service/order/price"}).then(function(e){console.log(e),t.confirmPlanlist=e})},getReasonType:function(){var t=this;s.default.request({data:{type:this.type},method:"get",url:"service/order/cancelReason"}).then(function(e){t.reason=e})},changeOrderStatusModal:function(t){"undefined"!=typeof t&&(this.order_status_visibile=t)},changeCancelModal:function(t){t&&this.getReasonType(),"undefined"!=typeof t&&(this.cancel_order_visibile=t)},changeConfirmModal:function(t){t&&this.getConfirmPlan(),"undefined"!=typeof t&&(this.confirm_order_visibile=t)},changeOrderCheck:function(t){t&&this.getConfirmPlan(),"undefined"!=typeof t&&(this.confirm_ordercheck_visibile=t)}}};e.default=l},f114:function(t,e,a){"use strict";a.r(e);var n=a("950e"),i=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e["default"]=i.a},f418:function(t,e,a){"use strict";var n=a("9f1a"),i=a.n(n);i.a},f593:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cancel-order-modal"},[t._l(t.confirmPlanlist,function(e,n){return a("div",{key:n,staticClass:"cancel-order-condition"},[e.type?a("div",{staticClass:"cancel-order-title"},[t._v(t._s(e.type))]):t._e(),a("div",{staticClass:"cancel-statement-wrap"},t._l(e.prices,function(e,n){return a("div",{key:n,staticClass:"cancel-radio-wrap"},[a("span",{staticClass:"cancel-radio"}),a("span",{staticClass:"cancel-label"},[t._v(t._s(e.name+""+e.price))])])}))])}),a("div",{staticClass:"zhanwei"}),a("div",{staticClass:"agree-plan-wrap"},[a("div",[a("image",{attrs:{src:"/static/mine/"+(t.check?"un":"")+"check.jpg",eventid:"1b918a88-0"},on:{click:t.cg_check}}),a("span",[t._v("验收完成")])]),a("button",{staticClass:"cancel-plan agree-plan",attrs:{eventid:"1b918a88-1"},on:{click:t.orderCheck}},[t._v("付款")])],1)],2)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})}},[["a269","common/runtime","common/vendor"]]]);