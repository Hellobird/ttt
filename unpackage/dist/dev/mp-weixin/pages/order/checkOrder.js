require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([2],{238:function(e,t,a){"use strict";var n=o(a(2)),r=o(a(239));function o(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(r.default))},239:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(241),r=a.n(n),o=a(264),s=!1;var i=function(e){s||a(240)},c=a(0)(r.a,o.a,i,null,null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\pages\\order\\checkOrder.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] checkOrder.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},240:function(e,t){},241:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(242)),r=o(a(1));function o(e){return e&&e.__esModule?e:{default:e}}t.default={components:{orderItem:n.default},data:function(){return{order_list:[],cancel_reason:[],type:""}},onLoad:function(e){this.type=e.type;var t="查看订单";1==this.type?t="查看订单":2==this.type?t="确认施工方案和价格":3==this.type&&(t="质量验收及付尾款"),wx.setNavigationBarTitle({title:t}),this.init()},methods:{init:function(){this.getOrderList()},getOrderList:function(){var e=this;r.default.request({data:{type:this.type},method:"get",url:"service/order/list"}).then(function(t){console.log(t),e.order_list=t})}}}},242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(244),r=a.n(n),o=a(263),s=!1;var i=function(e){s||a(243)},c=a(0)(r.a,o.a,i,null,null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\components\\orderItem.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] orderItem.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},243:function(e,t){},244:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(11)),r=l(a(12)),o=l(a(251)),s=l(a(255)),i=l(a(259)),c=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}t.default={props:["data","reload","type"],data:function(){return{order_status_visibile:!1,cancel_order_visibile:!1,confirm_order_visibile:!1,confirm_ordercheck_visibile:!1,static:c.default.static,reason:[],confirmPlanlist:[]}},components:{TModal:n.default,OrderStatus:r.default,CancelModal:o.default,ConfirmPlan:s.default,orderCheck:i.default},methods:{go_next:function(){wx.navigateTo({url:"../home/pay"})},reloadData:function(){this.$emit("reload")},getConfirmPlan:function(){var e=this;c.default.request({data:{orderId:this.data.id},method:"get",url:"service/order/price"}).then(function(t){console.log(t),e.confirmPlanlist=t})},getReasonType:function(){var e=this;c.default.request({data:{type:this.type},method:"get",url:"service/order/cancelReason"}).then(function(t){e.reason=t})},changeOrderStatusModal:function(e){void 0!==e&&(this.order_status_visibile=e)},changeCancelModal:function(e){e&&this.getReasonType(),void 0!==e&&(this.cancel_order_visibile=e)},changeConfirmModal:function(e){e&&this.getConfirmPlan(),void 0!==e&&(this.confirm_order_visibile=e)},changeOrderCheck:function(e){e&&this.getConfirmPlan(),void 0!==e&&(this.confirm_ordercheck_visibile=e)}}}},251:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(253),r=a.n(n),o=a(254),s=!1;var i=function(e){s||a(252)},c=a(0)(r.a,o.a,i,null,null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\components\\cancelModal.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] cancelModal.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},252:function(e,t){},253:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1),o=(n=r)&&n.__esModule?n:{default:n};t.default={props:["reason","orderId","reload","changeVisibileModal","cancelUrl"],data:function(){return{chooseData:null,detail:""}},methods:{choose:function(e){this.chooseData=e},cancel_order:function(){var e=this;o.default.request({data:{orderId:this.orderId,reasonId:this.chooseData,detail:this.detail},url:this.cancelUrl}).then(function(t){e.$parent.changeVisibileModal(!1),e.$emit("reload"),o.default.totast("订单取消成功")})},cancel_confirm:function(){var e=this;this.chooseData?wx.showModal({title:"",content:"您确定要取消该订单吗？",success:function(t){if(t.confirm)e.cancel_order();else if(t.cancel)return}}):o.default.totast("请选择取消原因")}}}},254:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cancel-order-modal"},[a("div",{staticClass:"cancel-order-condition"},[a("div",{staticClass:"cancel-order-title"},[e._v("\n\t\t取消原因\n\t\t")]),a("div",{staticClass:"cancel-order-check-wrap"},e._l(e.reason,function(t,n){return a("div",{key:n,class:e.chooseData==t.id?"cancel-order-checked":"cancel-order-check-group",attrs:{eventid:"4OE-0-"+n},on:{click:function(a){e.choose(t.id)}}},[a("div",{staticClass:"check-box"}),a("div",{staticClass:"check-label"},[e._v(e._s(t.context))])])})),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.detail,expression:"detail"}],staticClass:"cancel-order-des",attrs:{eventid:"seI-1"},domProps:{value:e.detail},on:{input:function(t){t.target.composing||(e.detail=t.target.value)}}})]),a("button",{staticClass:"cancel-button",attrs:{eventid:"8Hu-2"},on:{click:e.cancel_confirm}},[e._v("确认取消")])],1)};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r},255:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(257),r=a.n(n),o=a(258),s=!1;var i=function(e){s||a(256)},c=a(0)(r.a,o.a,i,null,null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\components\\confirmModal.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] confirmModal.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},256:function(e,t){},257:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1),o=(n=r)&&n.__esModule?n:{default:n};t.default={props:["orderId","reload","changeVisibileModal","confirmPlanlist"],data:function(){return{}},methods:{againPlan:function(){var e=this;o.default.request({data:{orderId:this.orderId},url:"service/order/againPrice"}).then(function(t){e.$parent.changeVisibileModal(!1),e.$emit("reload"),o.default.totast("操作成功"),console.log(t)})},confirmPlan:function(){var e=this;o.default.request({data:{orderId:this.orderId},url:"service/order/confirmPrice"}).then(function(t){e.$parent.changeVisibileModal(!1),e.$emit("reload"),o.default.totast("操作成功"),console.log(t)})}}}},258:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cancel-order-modal"},[e._l(e.confirmPlanlist,function(t,n){return a("div",{key:n,staticClass:"cancel-order-condition"},[t.type?a("div",{staticClass:"cancel-order-title"},[e._v("\n\t\t"+e._s(t.type)+"\n\t\t")]):e._e(),a("div",{staticClass:"cancel-statement-wrap"},e._l(t.prices,function(t,n){return a("div",{key:n,staticClass:"cancel-radio-wrap"},[a("span",{staticClass:"cancel-radio"}),a("span",{staticClass:"cancel-label"},[e._v(e._s(t.name+""+t.price))])])}))])}),a("div",{staticClass:"cancel-plan-wrap"},[a("button",{staticClass:"cancel-plan"},[e._v("放弃维修")]),a("button",{staticClass:"cancel-plan",attrs:{eventid:"BIp-0"},on:{click:e.againPlan}},[e._v("重新申报方案")])],1),a("div",{staticClass:"agree-plan-wrap"},[a("button",{staticClass:"cancel-plan agree-plan",attrs:{eventid:"tG2-1"},on:{click:e.confirmPlan}},[e._v("同意方案")])],1)],2)};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r},259:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(261),r=a.n(n),o=a(262),s=!1;var i=function(e){s||a(260)},c=a(0)(r.a,o.a,i,"data-v-573f8b62",null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\components\\orderCheck.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] orderCheck.vue: functional components are not supported with templates, they should use render functions."),t.default=c.exports},260:function(e,t){},261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1),o=(n=r)&&n.__esModule?n:{default:n};t.default={props:["orderId","reload","changeVisibileModal","confirmPlanlist"],data:function(){return{check:!1}},onLoad:function(){console.log(this.confirmPlanlist)},methods:{againPlan:function(){var e=this;o.default.request({data:{orderId:this.orderId},url:"service/order/againPrice"}).then(function(t){e.$parent.changeVisibileModal(!1),e.$emit("reload"),o.default.totast("操作成功"),console.log(t)})},cg_check:function(){this.check=!this.check},orderCheck:function(){var e=this;this.check?o.default.request({data:{orderId:this.orderId},url:"service/order/check"}).then(function(t){e.$parent.changeVisibileModal(!1),e.$emit("reload"),o.default.totast("操作成功"),console.log(t)}):o.default.totast("请确认验收完成")}}}},262:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cancel-order-modal"},[e._l(e.confirmPlanlist,function(t,n){return a("div",{key:n,staticClass:"cancel-order-condition"},[t.type?a("div",{staticClass:"cancel-order-title"},[e._v("\n\t\t "+e._s(t.type)+"\n\t\t")]):e._e(),a("div",{staticClass:"cancel-statement-wrap"},e._l(t.prices,function(t,n){return a("div",{key:n,staticClass:"cancel-radio-wrap"},[a("span",{staticClass:"cancel-radio"}),a("span",{staticClass:"cancel-label"},[e._v(e._s(t.name+""+t.price))])])}))])}),a("div",{staticClass:"zhanwei"}),a("div",{staticClass:"agree-plan-wrap"},[a("div",[a("image",{attrs:{src:"/static/mine/"+(e.check?"un":"")+"check.jpg",eventid:"1Bc-0"},on:{click:e.cg_check}}),a("span",[e._v("验收完成")])]),a("button",{staticClass:"cancel-plan agree-plan",attrs:{eventid:"y03-1"},on:{click:e.orderCheck}},[e._v("付款")])],1)],2)};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r},263:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"order-item-detail"},[a("div",{staticClass:"order-info"},[a("span",{staticClass:"order-num"},[e._v("订单编号："+e._s(e.data.orderNumber))]),a("span",{staticClass:"order-status"},[e._v(e._s(e.data.statusName))])]),a("div",{staticClass:"order-info"},[a("image",{staticClass:"goods-picture noimage",attrs:{src:e.static+e.data.picture}}),a("div",{staticClass:"goods-info-wrap"},[a("div",{staticClass:"goods-info"},[a("p",[e._v(e._s(e.data.serviceName))]),a("p",[e._v("¥ "+e._s(e.data.price))])],1)])]),a("div",{staticClass:"goods-info"},[a("div",{staticClass:"order-time"},[e._v("下单时间："+e._s(e.data.createTime))]),a("div",{staticClass:"order-time"},[e._v("合计: "+e._s(e.data.price))])]),a("div",{staticClass:"order-options-wrap"},[a("div",{staticClass:"order-options"},[1==e.data.status?a("button",{staticClass:"order-button",attrs:{eventid:"9xU-0"},on:{click:function(t){e.changeCancelModal(!0)}}},[e._v("取消订单")]):e._e(),5==e.data.status?a("button",{staticClass:"order-button",attrs:{eventid:"ahs-1"},on:{click:function(t){e.changeConfirmModal(!0)}}},[e._v("确认方案")]):e._e(),8==e.data.status?a("button",{staticClass:"order-button",attrs:{eventid:"1Tn-2"},on:{click:function(t){e.changeOrderCheck(!0)}}},[e._v("验收付款")]):e._e()],1)])]),a("t-modal",{attrs:{reason:e.reason,visibile:e.order_status_visibile,eventid:"ywu-3",mpcomid:"Qyv-1"},on:{changeVisible:e.changeOrderStatusModal}},[a("order-status",{attrs:{mpcomid:"jLt-0"}})],1),a("t-modal",{attrs:{visibile:e.cancel_order_visibile,eventid:"Cl7-5",mpcomid:"7j0-3"},on:{changeVisible:e.changeCancelModal}},[a("cancel-modal",{attrs:{cancelUrl:"service/order/cancelOrder",orderId:e.data.id,reason:e.reason,eventid:"NYq-4",mpcomid:"brn-2"},on:{reload:e.reloadData}})],1),a("t-modal",{attrs:{visibile:e.confirm_order_visibile,eventid:"F6i-7",mpcomid:"dQ9-5"},on:{changeVisible:e.changeConfirmModal}},[a("confirm-plan",{attrs:{orderId:e.data.id,confirmPlanlist:e.confirmPlanlist,eventid:"KIy-6",mpcomid:"f7o-4"},on:{reload:e.reloadData}})],1),a("t-modal",{attrs:{visibile:e.confirm_ordercheck_visibile,eventid:"5C3-9",mpcomid:"fyE-7"},on:{changeVisible:e.changeOrderCheck}},[a("order-check",{attrs:{orderId:e.data.id,confirmPlanlist:e.confirmPlanlist,eventid:"LrV-8",mpcomid:"b0v-6"},on:{reload:e.reloadData}})],1)],1)};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r},264:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"order-tip"},[1==e.type?a("p",{staticClass:"order-tip-text"},[e._v("您可以在此页面查看您已付上门费的订单和“查看状态”")]):e._e(),2==e.type?a("p",{staticClass:"order-tip-text"},[e._v("待木斗工匠上门与您协商后，您可在此页面找到相应订单，选择“请确认方案”“放弃此订单”“重新生成订单”")]):e._e(),3==e.type?a("p",{staticClass:"order-tip-text"},[e._v("木斗工匠已完工并且您已现场验收后请找到相应订单点击“请验收”确认支付尾款，完成方案并对“图文评价”并发布")]):e._e(),4==e.type?a("p",{staticClass:"order-tip-text"},[e._v("您可以在此页面查看您已付上门费的订单和“查看状态”")]):e._e()],1),e.order_list.length>0?a("div",e._l(e.order_list,function(t,n){return a("div",{key:n},[a("order-item",{attrs:{type:e.type,data:t,reason:e.cancel_reason,eventid:"tPR-0-"+n,mpcomid:"b3x-0-"+n},on:{reload:e.init}})],1)})):e._e()])};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r}},[238]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/order/checkOrder.js.map