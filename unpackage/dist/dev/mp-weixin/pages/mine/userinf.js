require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([4],{159:function(t,e,a){"use strict";var s=i(a(2)),n=i(a(160));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(n.default))},160:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(162),n=a.n(s),i=a(163),o=!1;var u=function(t){o||a(161)},r=a(0)(n.a,i.a,u,null,null);r.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\pages\\mine\\userinf.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] userinf.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},161:function(t,e){},162:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a(1),i=(s=n)&&s.__esModule?s:{default:s};e.default={data:function(){return{userinf:{},static:""}},onShow:function(){this.static=i.default.static,this.userinf=wx.getStorageSync("userinf")||{}},methods:{go_mine_adress:function(){wx.navigateTo({url:"../mine/adress"})},uploadimg:function(){var t=this;i.default.uploadimg({callback:function(e){t.req_uploadimg(e)}})},req_uploadimg:function(t){console.log(i.default.uploadimgurl+"common/imageUpload");var e=this;wx.uploadFile({url:i.default.uploadimgurl+"common/imageUpload",filePath:t,name:"picture",header:{Accept:"*/*"},success:function(t){console.log(t),t.data?(t.data=JSON.parse(t.data),0==t.data.code?e.req_updatePhoto(t.data.data):i.default.totast("上传图片失败")):i.default.totast("上传图片失败")}})},req_updatePhoto:function(t){var e=this;i.default.request({data:{photo:t},url:"user/updatePhone"}).then(function(a){e.userinf.photo=i.default.static+t,wx.setStorageSync("userinf",e.userinf)})},go_mine_updatename:function(){wx.navigateTo({url:"../mine/updatename"})}}}},163:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("div",{staticClass:"columlist columlist1",attrs:{eventid:"yVF-0"},on:{click:t.uploadimg}},[a("span",[t._v("头像")]),a("div",[a("image",{staticClass:"header",attrs:{src:t.userinf.photo||"../../static/logo.jpg"}}),a("image",{attrs:{src:"../../static/right.jpg"}})])]),a("div",{staticClass:"columlist",attrs:{eventid:"JuE-1"},on:{click:t.go_mine_updatename}},[a("span",[t._v("昵称")]),a("div",[a("span",[t._v(t._s(t.userinf.nickname||t.userinf.name||"木斗生活"))]),a("image",{attrs:{src:t.userinf.photo?t.static+t.userinf.photo:"../../static/logo.jpg"}})])]),a("div",{staticClass:"columlist",attrs:{eventid:"CW2-2"},on:{click:t.go_mine_adress}},[a("span",[t._v("收货地址")]),t._m(0)])])};s._withStripped=!0;var n={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",[this._v("修改/添加")]),e("image",{attrs:{src:"../../static/right.jpg"}})])}]};e.a=n}},[159]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/mine/userinf.js.map