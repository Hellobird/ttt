require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([28],{121:function(t,s,i){"use strict";var a=n(i(2)),e=n(i(122));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(e.default))},122:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=i(124),e=i.n(a),n=i(125),l=!1;var r=function(t){l||i(123)},c=i(0)(e.a,n.a,r,null,null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\pages\\build\\tenant.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] tenant.vue: functional components are not supported with templates, they should use render functions."),s.default=c.exports},123:function(t,s){},124:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a,e=i(1),n=(a=e)&&a.__esModule?a:{default:a};s.default={data:function(){return{static:"",type:0,malllist:[],typeList:[],mallnum:0,mallprice:0,pop:!1,storeid:"",classid:"",class_id:"",tenant:{},mallname:"",mallname1:""}},onLoad:function(t){this.tenant=wx.getStorageSync("tenant");var s=this.tenant.name.split("").length;this.mallname=this.tenant.name.substring(0,parseInt(s/2)),this.mallname1=this.tenant.name.substring(parseInt(s/2),s),wx.setStorageSync("tenant",""),this.static=n.default.static,this.classid=t.classid,this.storeid=t.storeid,this.req_storeclasslist()},methods:{cg_pop:function(){(this.pop||this.mallnum)&&(this.pop=!this.pop)},cg_type:function(t){this.type=t,this.class_id=this.typeList[t].id,this.req_goodslist()},go_build_pay:function(){wx.navigateTo({url:"../build/pay"})},go_build_mallinf:function(t){wx.navigateTo({url:"../build/mallinf?_id="+t})},minus:function(t){this.malllist[t].mallnum-=1,this.mallnum-=1,this.mallprice=(Number(this.mallprice)-Number(this.malllist[t].price)).toFixed(2),0==this.mallnum&&(this.pop=!1)},add:function(t){this.malllist[t].mallnum+=1,this.mallnum+=1,this.mallprice=(Number(this.mallprice)+Number(this.malllist[t].price)).toFixed(2)},malllistmap:function(t){return t.map(function(t){return t.price=Number(t.price).toFixed(2),t.mallnum=0,t})},cleanbar:function(){this.mallnum=0,this.mallprice=0,this.malllist=this.malllistmap(this.malllist),this.pop=!1},req_storeclasslist:function(){var t=this;n.default.request({data:{storeid:this.storeid},url:"goods/storeclasslist"}).then(function(s){t.typeList=s,s[0]&&(t.class_id=s[0].id)}).then(function(s){t.req_goodslist()})},req_goodslist:function(){var t=this;n.default.request({data:{storeid:this.storeid,classid:this.classid,class_id:this.class_id},url:"goods/goodslist"}).then(function(s){s.forEach(function(t){t.num=0}),t.malllist=s})}}}},125:function(t,s,i){"use strict";var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"mallinf1"},[i("div",{staticClass:"otherinf"},[i("div",{staticClass:"share"},[i("div",[i("button",{staticClass:"shareFriend",attrs:{type:"primary",bindtap:"onShareAppMessage","open-type":"share"}}),i("image",{attrs:{src:"../../static/home/share.png"}}),i("div",[t._v("分享")])],1)]),i("div",{staticClass:"mallname"},[i("p",[t._v(t._s(t.mallname))]),i("p",[t._v(t._s(t.mallname1))])],1),i("div",{staticClass:"malladress"},[i("view",[t._v(t._s(t.tenant.name))]),i("view",[t._v(t._s(t.tenant.address))])])]),i("image",{staticClass:"mallimage",attrs:{src:t.static+t.tenant.picture}})]),i("div",{staticClass:"section"},[i("scroll-view",{staticClass:"nav",attrs:{"scroll-y":"true"}},t._l(t.typeList,function(s,a){return i("div",{key:s,class:{active:t.type==a},attrs:{eventid:"at5-0-"+a},on:{click:function(s){t.cg_type(a)}}},[t._v(t._s(s.name))])})),i("scroll-view",{staticClass:"list",attrs:{"scroll-y":"true"}},t._l(t.malllist,function(s,a){return i("div",{key:s,staticClass:"mall1inf",attrs:{eventid:"Uyn-1-"+a},on:{click:function(i){t.go_build_mallinf(s.id)}}},[i("image",{attrs:{src:t.static+s.picture}}),i("div",[i("p",[t._v(t._s(s.name))]),i("p",[t._v("月销"+t._s(s.num)+"笔")]),i("p",{staticClass:"add"}),i("div",{staticClass:"addedit"},[s.mallnum?i("image",{attrs:{src:"../../static/build/minus.png"}}):t._e(),s.mallnum?i("span",[t._v(t._s(s.mallnum))]):t._e(),i("image",{attrs:{src:"../../static/build/add.png"}})]),i("span",[t._v("￥"+t._s(s.price))]),i("p")],1)])}))],1),t.pop?i("div",{staticClass:"pop",attrs:{eventid:"nKb-5"},on:{click:[t.cg_pop,function(s){s.stopPropagation(),t.cleanbar(s)}]}},[i("div",{staticClass:"popcont"},[t._m(0),i("div",{staticClass:"barlist"},t._l(t.malllist,function(s,a){return s.mallnum?i("div",{key:a,staticClass:"add1",attrs:{eventid:"WN9-4-"+a},on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"addedit addedit1"},[i("image",{attrs:{src:"../../static/build/minus.png",eventid:"WLk-2-"+a},on:{click:function(s){s.stopPropagation(),t.minus(a)}}}),i("span",[t._v(t._s(s.mallnum))]),i("image",{attrs:{src:"../../static/build/add.png",eventid:"2sV-3-"+a},on:{click:function(s){s.stopPropagation(),t.add(a)}}})]),i("span",{staticClass:"barname"},[t._v(t._s(s.name))]),i("span",{staticClass:"barmoney"},[t._v("￥"+t._s(s.price))])]):t._e()}))])]):t._e()])};a._withStripped=!0;var e={render:a,staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"delbar"},[s("image",{attrs:{src:"../../static/mine/del.png"}}),s("span",[this._v("清空购物车")])])}]};s.a=e}},[121]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/build/tenant.js.map