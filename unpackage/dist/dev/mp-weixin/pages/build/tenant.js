require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([28],{121:function(t,s,a){"use strict";var i=n(a(2)),e=n(a(122));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(e.default))},122:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=a(124),e=a.n(i),n=a(125),l=!1;var o=function(t){l||a(123)},c=a(0)(e.a,n.a,o,null,null);c.options.__file="C:\\Users\\hasee\\Documents\\HBuilderProjects\\mall\\pages\\build\\tenant.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] tenant.vue: functional components are not supported with templates, they should use render functions."),s.default=c.exports},123:function(t,s){},124:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,e=a(1),n=(i=e)&&i.__esModule?i:{default:i};s.default={data:function(){return{static:"",type:0,malllist:[],typeList:[],mallnum:0,mallprice:0,pop:!1,storeid:"",classid:"",class_id:"",tenant:{},mallname:"",mallname1:""}},onLoad:function(t){this.tenant=wx.getStorageSync("tenant");var s=this.tenant.name.split("").length;this.mallname=this.tenant.name.substring(0,parseInt(s/2)),this.mallname1=this.tenant.name.substring(parseInt(s/2),s),wx.setStorageSync("tenant",""),this.static=n.default.static,this.classid=t.classid,this.storeid=t.storeid,this.req_storeclasslist()},methods:{cg_pop:function(){(this.pop||this.mallnum)&&(this.pop=!this.pop)},cg_type:function(t){this.type=t,this.class_id=this.typeList[t].id,this.req_goodslist()},go_build_pay:function(){wx.navigateTo({url:"../build/pay"})},go_build_mallinf:function(t){wx.navigateTo({url:"../build/mallinf?_id="+t})},minus:function(t){this.malllist[t].mallnum-=1,this.mallnum-=1,this.mallprice=(Number(this.mallprice)-Number(this.malllist[t].price)).toFixed(2),0==this.mallnum&&(this.pop=!1)},add:function(t){this.malllist[t].mallnum+=1,this.mallnum+=1,this.mallprice=(Number(this.mallprice)+Number(this.malllist[t].price)).toFixed(2)},malllistmap:function(t){return t.map(function(t){return t.price=Number(t.price).toFixed(2),t.mallnum=0,t})},cleanbar:function(){this.mallnum=0,this.mallprice=0,this.malllist=this.malllistmap(this.malllist),this.pop=!1},req_storeclasslist:function(){var t=this;n.default.request({data:{storeid:this.storeid},url:"goods/storeclasslist"}).then(function(s){t.typeList=s,s[0]&&(t.class_id=s[0].id)}).then(function(s){t.req_goodslist()})},req_goodslist:function(){var t=this;n.default.request({data:{storeid:this.storeid,classid:this.classid,class_id:this.class_id},url:"goods/goodslist"}).then(function(s){s.forEach(function(t){t.num=0}),t.malllist=s})}}}},125:function(t,s,a){"use strict";var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("div",{staticClass:"mallinf1"},[a("div",{staticClass:"otherinf"},[a("div",{staticClass:"share"},[a("div",[a("button",{staticClass:"shareFriend",attrs:{type:"primary",bindtap:"onShareAppMessage","open-type":"share"}}),a("image",{attrs:{src:"../../static/home/share.png"}}),a("div",[t._v("分享")])],1)]),a("div",{staticClass:"mallname"},[a("p",[t._v(t._s(t.mallname))]),a("p",[t._v(t._s(t.mallname1))])],1),a("div",{staticClass:"malladress"},[a("view",[t._v(t._s(t.tenant.name))]),a("view",[t._v(t._s(t.tenant.address))])])]),a("image",{staticClass:"mallimage",attrs:{src:"../../static/build/mall.jpg"}})]),a("div",{staticClass:"section"},[a("scroll-view",{staticClass:"nav",attrs:{"scroll-y":"true"}},t._l(t.typeList,function(s,i){return a("div",{key:s,class:{active:t.type==i},attrs:{eventid:"PFv-0-"+i},on:{click:function(s){t.cg_type(i)}}},[t._v(t._s(s.name))])})),a("scroll-view",{staticClass:"list",attrs:{"scroll-y":"true"}},t._l(t.malllist,function(s,i){return a("div",{key:s,staticClass:"mall1inf",attrs:{eventid:"5U1-3-"+i},on:{click:function(a){t.go_build_mallinf(s.id)}}},[a("image",{attrs:{src:t.static+s.picture}}),a("div",[a("p",[t._v(t._s(s.name))]),a("p",[t._v("月销"+t._s(s.num)+"笔")]),a("p",{staticClass:"add"}),a("div",{staticClass:"addedit"},[s.mallnum?a("image",{attrs:{src:"../../static/build/minus.png",eventid:"wT1-1-"+i},on:{click:function(s){s.stopPropagation(),t.minus(i)}}}):t._e(),s.mallnum?a("span",[t._v(t._s(s.mallnum))]):t._e(),a("image",{attrs:{src:"../../static/build/add.png",eventid:"EJO-2-"+i},on:{click:function(s){s.stopPropagation(),t.add(i)}}})]),a("span",[t._v("￥"+t._s(s.price))]),a("p")],1)])}))],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"edit"},[a("span",[t._v("加入购物车")]),a("span",{attrs:{eventid:"oTM-4"},on:{click:t.go_build_pay}},[t._v("购买")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.mallnum,expression:"mallnum"}],staticClass:"mallnum"},[t._v(t._s(t.mallnum))]),a("image",{staticClass:"logo",attrs:{src:"../../static/logo.jpg",eventid:"9Zv-5"},on:{click:t.cg_pop}}),a("span",{directives:[{name:"show",rawName:"v-show",value:t.mallnum,expression:"mallnum"}],staticClass:"money"},[t._v("￥"+t._s(t.mallprice))])]),t.pop?a("div",{staticClass:"pop",attrs:{eventid:"cfJ-9"},on:{click:[t.cg_pop,function(s){s.stopPropagation(),t.cleanbar(s)}]}},[a("div",{staticClass:"popcont"},[t._m(0),a("div",{staticClass:"barlist"},t._l(t.malllist,function(s,i){return s.mallnum?a("div",{key:i,staticClass:"add1",attrs:{eventid:"OQR-8-"+i},on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"addedit addedit1"},[a("image",{attrs:{src:"../../static/build/minus.png",eventid:"MDM-6-"+i},on:{click:function(s){s.stopPropagation(),t.minus(i)}}}),a("span",[t._v(t._s(s.mallnum))]),a("image",{attrs:{src:"../../static/build/add.png",eventid:"HNe-7-"+i},on:{click:function(s){s.stopPropagation(),t.add(i)}}})]),a("span",{staticClass:"barname"},[t._v(t._s(s.name))]),a("span",{staticClass:"barmoney"},[t._v("￥"+t._s(s.price))])]):t._e()}))])]):t._e()])};i._withStripped=!0;var e={render:i,staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"delbar"},[s("image",{attrs:{src:"../../static/mine/del.png"}}),s("span",[this._v("清空购物车")])])}]};s.a=e}},[121]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/build/tenant.js.map